# 🚀 Chrome 插件快速开始指南

欢迎使用单词记忆助手 Chrome 插件！本指南将帮助你在 5 分钟内完成安装和配置。

## 📋 安装前准备

### ✅ 检查清单

- [ ] Chrome 浏览器（版本 88 或更高）
- [ ] 后端服务已安装（单词记忆工具 API）
- [ ] Python 环境（用于生成图标，可选）

## 🎯 三步快速安装

### 第一步：生成图标

插件需要三个图标文件。选择以下任一方式：

#### 方式 A：自动生成（推荐）✨

在 `word-plugin` 目录下运行：

```bash
python generate_icons.py
```

脚本会自动生成所有需要的图标。

#### 方式 B：手动下载

1. 访问 https://favicon.io/emoji-favicons/books/
2. 点击下载图标包
3. 将图标重命名并放入 `word-plugin/icons/` 目录：
   - `android-chrome-192x192.png` → `icon128.png`
   - 使用图片工具调整为 48x48 → `icon48.png`
   - 使用图片工具调整为 16x16 → `icon16.png`

#### 方式 C：快速测试（临时）

如果只想快速测试，使用任意图片复制 3 份，重命名即可：
```bash
copy anyimage.png icons\icon16.png
copy anyimage.png icons\icon48.png
copy anyimage.png icons\icon128.png
```

### 第二步：加载插件

1. 打开 Chrome 浏览器
2. 地址栏输入：`chrome://extensions/` 并回车
3. 右上角开启 **"开发者模式"** 开关
4. 点击左上角 **"加载已解压的扩展程序"** 按钮
5. 浏览并选择 `word-plugin` 文件夹
6. 点击"选择文件夹"

看到插件卡片出现即表示加载成功！✅

### 第三步：启动后端服务

回到项目根目录，启动后端服务：

#### Windows：
```bash
# 方式 1：双击运行
双击 "启动服务器.bat"

# 方式 2：命令行
.\启动服务器.bat
```

#### Linux/Mac：
```bash
bash restart-backend.sh
```

#### 验证服务：

在浏览器访问 http://localhost:5000/api/health

看到 JSON 响应即表示服务正常！

## 🎊 开始使用

### 初次登录

1. 点击 Chrome 右上角的插件图标（会显示为书本📚图标）
2. 在登录界面输入：
   - **API 地址**：`http://localhost:5000`（默认）
   - **用户名**：你的用户名
   - **密码**：你的密码
3. 如果还没账号，点击"注册账号"按钮先注册

### 使用方法 1：右键添加（推荐）

1. 浏览任意英文网页（如 Wikipedia、Medium 等）
2. 用鼠标选中一个英文单词
3. 右键点击，选择 **"添加单词到记忆工具"**
4. 稍等片刻，插件图标会弹出显示单词详情

### 使用方法 2：直接搜索

1. 点击浏览器右上角的插件图标
2. 在搜索框输入要查询的单词
3. 点击"查询"按钮
4. 单词详情立即显示

## 📊 查看单词详情

查询成功后，你会看到：

- **单词文本**：大字显示，便于阅读
- **状态标记**：
  - 🟢 "新添加" - 首次查询，已自动添加到词库
  - 🔵 "已存在" - 之前查询过的单词
- **音标**：国际音标，紫色斜体显示
- **中文翻译**：由 AI 自动生成
- **音节分词**：彩色标签显示，帮助记忆
- **查询次数**：显示你查询这个单词的次数

## ⚙️ 配置说明

### 修改 API 地址

如果后端服务运行在不同的地址或端口：

1. 在登录界面修改 API 地址
2. 例如：`http://192.168.1.100:5000`
3. 登录后会自动保存配置

### 使用远程服务器

如果后端部署在服务器上（如 VPS）：

1. 编辑 `manifest.json`，在 `host_permissions` 中添加服务器地址：
```json
"host_permissions": [
  "http://localhost:5000/*",
  "http://your-server.com:5000/*"
]
```

2. 重新加载插件（在 chrome://extensions/ 点击刷新按钮）

3. 在登录界面输入服务器地址

## 🐛 故障排查

### 问题 1：插件无法加载

**错误信息**：缺少图标文件

**解决方法**：
- 确保 `icons` 目录下有三个图标文件
- 运行 `python generate_icons.py` 生成图标
- 或使用任意图片临时替代

### 问题 2：登录失败

**错误信息**：无法连接到服务器

**解决方法**：
1. 检查后端服务是否运行：
   ```bash
   # 访问健康检查端点
   curl http://localhost:5000/api/health
   ```
2. 确认 API 地址正确
3. 检查防火墙设置

### 问题 3：右键菜单没有"添加单词"选项

**解决方法**：
1. 刷新网页
2. 在 chrome://extensions/ 重新加载插件
3. 检查浏览器控制台是否有错误（F12）

### 问题 4：查询单词失败

**错误信息**：查询失败或 AI 错误

**解决方法**：
1. 确认后端配置了 `DEEPSEEK_API_KEY`
2. 检查 `.env` 文件
3. 查看后端日志：
   ```bash
   tail -f /tmp/word-api.log  # Linux
   # 或查看控制台输出（Windows）
   ```

### 问题 5：Token 过期

**错误信息**：未授权或需要重新登录

**解决方法**：
- 点击退出登录按钮
- 重新登录即可

## 💡 使用技巧

### 技巧 1：固定插件图标

为了方便访问，建议固定插件图标：
1. 点击 Chrome 右上角的拼图图标
2. 找到"单词记忆助手"
3. 点击图钉图标固定

### 技巧 2：快速查询

在任意网页上：
1. 双击选中单词
2. 右键 → "添加单词到记忆工具"
3. 自动弹出查询结果

### 技巧 3：批量学习

浏览英文文章时：
1. 遇到生词就右键添加
2. 插件会自动记录查询次数
3. 后续可在主应用中复习高频单词

### 技巧 4：离线准备

出门前先查询常用单词，数据会保存到服务器，手机端也能访问。

## 📱 配合使用

这个插件是 **单词记忆工具** 的一部分：

- **Chrome 插件**：浏览网页时快速添加单词
- **Web 应用** (`word-next`)：全面的单词管理和学习
- **移动端**：随时随地复习（开发中）

所有数据实时同步！

## 🎓 最佳实践

1. **每天使用**：养成查词习惯，积少成多
2. **查看统计**：在 Web 应用中查看学习进度
3. **复习高频词**：重点关注查询次数多的单词
4. **利用音节**：通过音节分词记忆长单词

## 📚 更多资源

- **完整文档**：`README.md`
- **API 文档**：项目根目录 `README.md`
- **前端应用**：`word-next/README-CN.md`
- **安装指南**：`INSTALL.md`

## 🆘 需要帮助？

如果遇到问题：

1. 查看本指南的"故障排查"部分
2. 查看完整文档 `README.md`
3. 提交 Issue 到项目仓库
4. 查看后端日志获取详细错误信息

---

## ✅ 快速检查清单

安装完成后，确认以下项目：

- [ ] 插件已成功加载到 Chrome
- [ ] 后端服务正在运行（http://localhost:5000/api/health 可访问）
- [ ] 已成功注册/登录账号
- [ ] 右键菜单中出现"添加单词到记忆工具"选项
- [ ] 可以成功查询单词并显示详情
- [ ] 单词数据已保存（可在 Web 应用中查看）

全部完成？恭喜你！🎉 开始享受高效的单词学习之旅吧！

---

**祝学习愉快！📚✨**


