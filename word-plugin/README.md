# 单词记忆助手 Chrome 插件

一个强大的 Chrome 浏览器扩展，帮助你在浏览网页时快速添加和学习英语单词。

## ✨ 功能特性

- 🖱️ **右键菜单添加**：选中网页中的任意英文单词，右键选择"添加单词到记忆工具"
- 🤖 **AI 智能查询**：自动调用 Deepseek AI 获取单词的音标、翻译和音节
- 📝 **单词详情展示**：在浏览器右上角弹窗中查看单词的完整信息
- 🔐 **用户认证**：支持注册和登录，数据个人化存储
- 📊 **查询统计**：自动记录单词查询次数
- 💾 **智能管理**：单词存在则查询，不存在则自动添加

## 📦 安装步骤

### 1. 准备图标文件

在 `icons` 目录下添加三个图标文件：
- `icon16.png` (16x16 像素)
- `icon48.png` (48x48 像素)  
- `icon128.png` (128x128 像素)

可以临时使用任意图片，只要文件名正确即可。查看 `icons/ICON_GUIDE.md` 了解更多。

### 2. 加载插件到 Chrome

1. 打开 Chrome 浏览器
2. 在地址栏输入 `chrome://extensions/` 并回车
3. 打开右上角的"开发者模式"开关
4. 点击"加载已解压的扩展程序"
5. 选择 `word-plugin` 文件夹
6. 插件加载完成！

### 3. 配置后端服务

确保单词记忆工具的后端服务正在运行：

```bash
# 在项目根目录
cd F:\Documents\11wordsyllable

# Windows 用户
双击运行 启动服务器.bat

# 或 Linux/Mac 用户
bash restart-backend.sh
```

后端服务默认运行在 `http://localhost:5000`

## 🚀 使用方法

### 首次使用

1. 点击浏览器右上角的插件图标
2. 在登录界面输入用户名和密码
3. 如果还没有账号，点击"注册账号"按钮
4. 确认 API 地址（默认为 `http://localhost:5000`）
5. 登录成功后即可开始使用

### 添加单词（方式一：右键菜单）

1. 在任意网页上选中一个英文单词
2. 右键选择"添加单词到记忆工具"
3. 插件会自动查询并显示单词详情
4. 查询结果会显示在浏览器右上角的弹窗中

### 查询单词（方式二：直接搜索）

1. 点击浏览器右上角的插件图标
2. 在搜索框中输入要查询的单词
3. 点击"查询"按钮
4. 单词详情将立即显示

## 📱 界面说明

### 弹窗界面包含：

- **顶部栏**：显示当前登录用户和退出按钮
- **搜索框**：直接输入单词进行查询
- **单词详情区**：
  - 单词文本（大字显示）
  - 状态标记（新添加/已存在）
  - 音标
  - 中文翻译
  - 音节分词（彩色标签显示）
  - 查询次数（已存在的单词）

### 状态标记说明：

- 🟢 **新添加**：这是第一次查询的新单词，已自动添加到词库
- 🔵 **已存在**：这个单词之前已经查询过，显示历史查询次数

## ⚙️ 配置选项

### 修改 API 地址

如果你的后端服务运行在其他地址（例如服务器上），可以在登录界面修改 API 地址：

```
http://your-server-ip:5000
```

### 使用远程服务器

如果后端部署在服务器上，需要：

1. 在 `manifest.json` 的 `host_permissions` 中添加你的服务器地址：
```json
"host_permissions": [
  "http://localhost:5000/*",
  "http://your-server.com:5000/*"
]
```

2. 在登录界面输入服务器地址

## 🔧 文件结构

```
word-plugin/
├── manifest.json       # 插件配置文件
├── popup.html          # 弹窗页面
├── popup.js           # 弹窗逻辑
├── styles.css         # 样式文件
├── api.js            # API 服务模块
├── background.js      # 后台脚本（处理右键菜单）
├── content.js        # 内容脚本
├── icons/            # 图标文件夹
│   ├── icon16.png
│   ├── icon48.png
│   ├── icon128.png
│   └── ICON_GUIDE.md
└── README.md         # 本文档
```

## 🔑 API 接口

插件调用以下后端 API：

- `POST /api/auth/register` - 用户注册
- `POST /api/auth/login` - 用户登录
- `GET /api/auth/me` - 获取当前用户信息
- `POST /api/words/lookup` - 智能查询单词（核心功能）

详细 API 文档请查看项目根目录的 `README.md`

## 🐛 常见问题

### 1. 插件加载失败

**问题**：Chrome 提示"无法加载扩展程序"

**解决方案**：
- 检查 `icons` 目录下是否有三个图标文件
- 临时使用任意图片文件，重命名为 `icon16.png`、`icon48.png`、`icon128.png`

### 2. 无法连接到服务器

**问题**：登录时提示"登录失败"或"网络错误"

**解决方案**：
- 确认后端服务正在运行（访问 http://localhost:5000/api/health 检查）
- 检查防火墙是否阻止了连接
- 确认 API 地址配置正确

### 3. 右键菜单没有反应

**问题**：点击右键菜单后没有反应

**解决方案**：
- 先在插件弹窗中登录
- 刷新网页后重试
- 检查浏览器控制台是否有错误信息

### 4. 单词查询失败

**问题**：提示"查询失败"

**解决方案**：
- 确认后端服务配置了有效的 `DEEPSEEK_API_KEY`
- 检查网络连接
- 查看后端服务日志

### 5. Token 过期

**问题**：提示"未授权"或"Token 无效"

**解决方案**：
- 点击退出登录按钮
- 重新登录即可

## 🎨 自定义样式

可以编辑 `styles.css` 文件来自定义插件的外观：

- 修改颜色主题
- 调整字体大小
- 更改布局样式

## 🔒 安全性

- 用户密码使用加密传输
- JWT Token 存储在 Chrome 本地存储中
- 不会收集或上传任何浏览历史数据
- 仅在选中单词并主动触发时才会请求 API

## 📈 未来计划

- [ ] 添加快捷键支持
- [ ] 支持批量导入单词
- [ ] 添加单词复习提醒
- [ ] 支持自定义音节颜色
- [ ] 添加单词发音功能
- [ ] 支持离线模式

## 🤝 贡献

欢迎提交 Issue 和 Pull Request！

## 📄 许可证

MIT License

## 📞 支持

如有问题，请查看主项目文档或提交 Issue。

---

**祝你学习愉快！📚✨**

