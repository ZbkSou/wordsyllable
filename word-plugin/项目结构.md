# 📁 项目结构说明

```
word-plugin/
├── 📄 核心文件
│   ├── manifest.json          # Chrome 插件配置清单（必需）
│   ├── popup.html             # 弹窗页面结构
│   ├── popup.js              # 弹窗页面逻辑
│   ├── styles.css            # 样式表
│   ├── api.js                # API 服务封装
│   ├── background.js         # 后台服务脚本（处理右键菜单）
│   └── content.js            # 内容脚本（注入到网页）
│
├── 🎨 资源文件
│   └── icons/                # 图标目录
│       ├── icon16.png        # 16x16 图标（需要）
│       ├── icon48.png        # 48x48 图标（需要）
│       ├── icon128.png       # 128x128 图标（需要）
│       └── ICON_GUIDE.md     # 图标制作指南
│
├── 📚 文档
│   ├── README.md             # 完整功能文档（英文）
│   ├── 快速开始.md            # 中文快速入门指南
│   ├── INSTALL.md            # 详细安装指南
│   ├── 更新日志.md            # 版本更新记录
│   └── 项目结构.md            # 本文件
│
├── 🧪 测试和工具
│   ├── test.html             # 功能测试页面
│   ├── generate_icons.py     # 图标生成脚本（Python）
│   └── 生成图标.bat           # 图标生成脚本（Windows）
│
└── ⚙️ 配置
    └── .gitignore            # Git 忽略规则
```

## 📄 核心文件说明

### manifest.json
Chrome 扩展的配置文件，定义了：
- 插件基本信息（名称、版本、描述）
- 所需权限（右键菜单、存储、网络请求）
- 脚本文件引用
- 图标路径

### popup.html
点击插件图标时显示的弹窗页面，包含：
- 登录/注册界面
- 单词搜索框
- 单词详情展示区
- 用户信息显示

### popup.js
弹窗的交互逻辑，处理：
- 用户登录/注册
- 单词查询
- 界面状态切换
- 与 background.js 通信

### styles.css
所有样式定义，包括：
- 渐变色主题
- 响应式布局
- 按钮和表单样式
- 动画效果

### api.js
API 服务封装，提供：
- 用户认证（注册、登录）
- 单词查询（lookup）
- Token 管理
- 错误处理

### background.js
后台常驻脚本，负责：
- 创建右键菜单
- 处理菜单点击事件
- 调用 API 查询单词
- 显示通知

### content.js
注入到网页的脚本，用于：
- 获取选中文本
- 与网页交互
- 可扩展其他功能

## 🎨 图标文件

插件需要三个尺寸的 PNG 图标：
- **icon16.png**: 用于扩展管理页面
- **icon48.png**: 用于扩展管理页面
- **icon128.png**: 用于 Chrome Web Store 和安装界面

## 📚 文档说明

### README.md
完整的功能文档，包括：
- 功能特性介绍
- 详细安装步骤
- 使用方法说明
- 常见问题解答
- API 接口说明

### 快速开始.md
中文快速入门指南，适合：
- 首次使用的用户
- 快速了解基本功能
- 按步骤完成安装

### INSTALL.md
详细的安装指南，包含：
- 多种图标获取方式
- 分步骤安装说明
- 故障排查方法

## 🧪 测试工具

### test.html
功能测试页面，提供：
- 各种难度的测试单词
- 功能检查清单
- 使用说明和提示

### generate_icons.py
Python 图标生成脚本：
- 自动生成三个尺寸的图标
- 渐变色背景
- 添加文字或图案

## 📊 文件大小估算

```
manifest.json      ~2 KB
popup.html         ~5 KB
popup.js          ~10 KB
styles.css         ~6 KB
api.js             ~5 KB
background.js      ~4 KB
content.js         ~1 KB
icons/             ~50 KB (三个图标总和)
文档               ~50 KB
------------------------
总计               ~133 KB
```

整个插件非常轻量，加载和运行都很快速。

## 🔄 数据流

```
用户选中单词
    ↓
content.js 获取文本
    ↓
background.js 处理
    ↓
调用后端 API
    ↓
返回单词信息
    ↓
popup.js 展示结果
    ↓
用户查看详情
```

## 🔐 权限说明

插件请求的权限及用途：

1. **contextMenus** - 创建右键菜单
2. **storage** - 保存登录信息和配置
3. **activeTab** - 获取当前标签页信息
4. **host_permissions** - 访问后端 API

## 🛠️ 开发说明

### 修改插件后如何更新？

1. 修改代码文件
2. 前往 `chrome://extensions/`
3. 找到插件，点击刷新按钮 🔄
4. 重新测试功能

### 如何调试？

1. **弹窗调试**：右键点击插件图标 → 检查弹出内容
2. **后台脚本调试**：chrome://extensions/ → 点击"service worker"
3. **内容脚本调试**：在网页上按 F12 → Console 查看

## 📦 打包发布

如需打包为 .crx 文件：

1. 前往 `chrome://extensions/`
2. 开启"开发者模式"
3. 点击"打包扩展程序"
4. 选择 `word-plugin` 目录
5. 生成 .crx 和 .pem 文件

⚠️ **注意**：.pem 文件是私钥，请妥善保管！

## 🔧 依赖关系

```
popup.html
  ├── styles.css
  ├── api.js
  └── popup.js

background.js
  └── 独立运行

content.js
  └── 注入到网页

manifest.json
  └── 统一协调所有文件
```

## 📝 编码规范

- JavaScript: ES6+
- HTML5 语义化标签
- CSS3 现代特性
- 注释清晰完整
- 代码格式统一

## 🚀 性能优化

- 最小化文件大小
- 按需加载资源
- 异步 API 调用
- 合理使用缓存
- 减少 DOM 操作

---

**项目总览完成！如有疑问请查看各文档的详细说明。**


